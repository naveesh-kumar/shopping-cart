(self.webpackChunkgrocery_market=self.webpackChunkgrocery_market||[]).push([[664],{2664:(e,r,t)=>{"use strict";t.r(r),t.d(r,{AuthModule:()=>f});var n=t(8583),o=t(665),s=t(4337),a=t(639);let i=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-page-not-found"]],decls:9,vars:0,consts:[[1,"page-not-found-page"],[1,"flx"],[1,"hdr"],[1,"caption"],["href","javascript:;"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div"),a.TgZ(3,"div",2),a._uU(4," 404 "),a.qZA(),a.TgZ(5,"div",3),a._uU(6," Oop!, we couldnt find the page for you. "),a.TgZ(7,"a",4),a._uU(8,"Go to home"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA())},styles:[".page-not-found-page[_ngcontent-%COMP%]{height:100%}.page-not-found-page[_ngcontent-%COMP%]   .flx[_ngcontent-%COMP%]{display:flex;height:100%;align-items:center;justify-content:center}.page-not-found-page[_ngcontent-%COMP%]   .flx[_ngcontent-%COMP%]   .hdr[_ngcontent-%COMP%]{font-size:300px;font-weight:600;text-align:center}.page-not-found-page[_ngcontent-%COMP%]   .flx[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{color:gray;font-size:12px;text-align:center}"]}),e})(),u=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-forgot-password"]],decls:0,vars:0,template:function(e,r){},styles:[""]}),e})(),c=(()=>{class e{constructor(){this.validationMessages={username:{required:"Username is required",minlength:"Minimum of 3 characters required",maxlength:"Maximum length reached"},password:{required:"Password is required",minlength:"Minimum of 8 characters required",maxlength:"Maximum length reached",specialCharacterError:"Require special character"}}}shouldHaveOneSpecialCharacter(e){let r=new RegExp("[!@#$%^&*()<>?/*-+_~]");return e.value.length>7&&!r.test(e.value)?{specialCharacterError:!0}:null}updateValidationMessages(e,r){return Object.keys(e.controls).forEach(t=>{var n;let o=null===(n=e.get(t))||void 0===n?void 0:n.errors;if(r[t]="",o){let e=this.validationMessages[t];for(let n of Object.keys(o)){r[t]+=e[n];break}}}),r}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=t(4961);function g(e,r){if(1&e&&(a.TgZ(0,"div"),a.TgZ(1,"div",16),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.hij(" ",e.formErrors.username," ")}}function d(e,r){if(1&e&&(a.TgZ(0,"div"),a.TgZ(1,"div",16),a._uU(2),a.qZA(),a.qZA()),2&e){const e=a.oxw();a.xp6(2),a.hij(" ",e.formErrors.password," ")}}const p=[{path:"login",component:(()=>{class e{constructor(e,r,t,n){this.FormUtilitiesService=e,this.route=r,this.usersService=t,this.activatedRoute=n,this.errorObj={},this.formErrors={username:"",password:""},this.showPassword=!1,this.userForm=this.createFormGroup()}ngOnInit(){this.userForm.valueChanges.subscribe(e=>{this.updateValidationMessages()})}createFormGroup(){return new o.cw({username:new o.NI("",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(20)]),password:new o.NI("",[o.kI.required,o.kI.minLength(8),o.kI.maxLength(16),this.FormUtilitiesService.shouldHaveOneSpecialCharacter])})}updateValidationMessages(){this.formErrors=this.FormUtilitiesService.updateValidationMessages(this.userForm,this.formErrors)}login(){var e,r;if(this.userForm.valid){let t=null===(e=this.userForm.get("username"))||void 0===e?void 0:e.value,n=null===(r=this.userForm.get("password"))||void 0===r?void 0:r.value;this.usersService.userLogin(t,n).subscribe(e=>{e?this.activatedRoute.queryParamMap.subscribe(e=>{e.params.returnUrl&&this.route.navigate([e.params.returnUrl]),this.route.navigate(["home"])}):window.alert("Wrong Credentials")})}else alert("Please enter all fields")}togglePassword(){this.showPassword=!this.showPassword}}return e.\u0275fac=function(r){return new(r||e)(a.Y36(c),a.Y36(s.F0),a.Y36(l.f),a.Y36(s.gz))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-login"]],decls:27,vars:8,consts:[[1,"container","my-form"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title","text-center","mb-3"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username",1,"form-control",3,"blur"],[4,"ngIf"],["for","pasword",1,"form-label"],[1,"input-group","mb-3"],["id","password","formControlName","password","aria-describedby","basic-addon2",1,"form-control",3,"type","blur"],[1,"input-group-text",3,"click"],[1,"mb-2"],["href","",1,"text-end"],["type","submit",1,"btn","btn-success","btn-sm",3,"disabled"],["role","alert",1,"alert","alert-danger"]],template:function(e,r){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"h5",3),a._uU(4,"Login"),a.qZA(),a.TgZ(5,"form",4),a.NdJ("ngSubmit",function(){return r.login()}),a.TgZ(6,"div",5),a.TgZ(7,"label",6),a._uU(8,"Username"),a.TgZ(9,"span"),a._uU(10,"*"),a.qZA(),a.qZA(),a.TgZ(11,"input",7),a.NdJ("blur",function(){return r.updateValidationMessages()}),a.qZA(),a.qZA(),a.YNc(12,g,3,1,"div",8),a.TgZ(13,"label",9),a._uU(14,"Password"),a.TgZ(15,"span"),a._uU(16,"*"),a.qZA(),a.qZA(),a.TgZ(17,"div",10),a.TgZ(18,"input",11),a.NdJ("blur",function(){return r.updateValidationMessages()}),a.qZA(),a.TgZ(19,"span",12),a.NdJ("click",function(){return r.togglePassword()}),a._UZ(20,"i"),a.qZA(),a.qZA(),a.YNc(21,d,3,1,"div",8),a.TgZ(22,"div",13),a.TgZ(23,"a",14),a._uU(24,"Forgot password?"),a.qZA(),a.qZA(),a.TgZ(25,"button",15),a._uU(26,"Login"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(5),a.Q6J("formGroup",r.userForm),a.xp6(7),a.Q6J("ngIf",r.formErrors.username&&r.userForm.controls.username.touched),a.xp6(6),a.s9C("type",r.showPassword?"text":"password"),a.xp6(2),a.Gre("bi ",r.showPassword?"bi-eye-fill":"bi-eye-slash",""),a.xp6(1),a.Q6J("ngIf",r.formErrors.password&&r.userForm.controls.password.touched),a.xp6(4),a.Q6J("disabled",r.userForm.invalid&&r.userForm.touched))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,n.O5],styles:[".login-page[_ngcontent-%COMP%], .login-page[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{height:100%}.login-page[_ngcontent-%COMP%]   .bg-side[_ngcontent-%COMP%]{background-color:green;height:100%}"]}),e})()},{path:"forgot-password",component:u},{path:"signup",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-signup"]],decls:0,vars:0,template:function(e,r){},styles:[""]}),e})()},{path:"**",component:i}];let m=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[s.Bz.forChild(p)],s.Bz]}),e})();var h=t(4466);let f=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[n.ez,m,o.UX,h.m]]}),e})()}}]);